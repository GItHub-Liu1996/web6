# 网站交互拓扑图

## 📋 概述

本文档详细描述了网站的交互拓扑结构，包括页面间的导航关系、组件间的数据流、用户交互路径等。

## 🗺️ 网站导航拓扑

### 1. 主要页面结构

```
首页 (/)
├── 服务页面 (/services)
│   ├── 公司注册 (/services/company-registration)
│   ├── 银行开户 (/services/bank-account)
│   ├── 税务登记 (/services/tax-registration)
│   └── 商标注册 (/services/trademark)
├── 博客页面 (/blog)
│   ├── 博客列表 (/blog)
│   ├── 博客详情 (/blog/[slug])
│   └── 分类页面 (/blog/category/[category])
├── 关于我们 (/about)
└── 联系我们 (/contact)
```

### 2. 页面间导航关系

```
首页
├── Header导航
│   ├── 服务 → /services
│   ├── 博客 → /blog
│   ├── 关于我们 → /about
│   ├── 案例 → /cases (规划中)
│   └── 联系我们 → /contact
├── 服务展示区域
│   └── 服务卡片 → /services/[service]
├── 博客预览区域
│   └── 博客卡片 → /blog/[slug]
└── 联系表单区域
    └── 联系按钮 → /contact

服务页面
├── Header导航 (同首页)
├── 服务列表
│   └── 服务卡片 → /services/[service]
└── Footer (同首页)

博客页面
├── Header导航 (同首页)
├── 博客列表
│   └── 博客卡片 → /blog/[slug]
├── 分类筛选
│   └── 分类链接 → /blog/category/[category]
├── 搜索功能
│   └── 搜索结果 → /blog?search=keyword
└── Footer (同首页)

关于我们页面
├── Header导航 (同首页)
├── 公司介绍内容
├── 团队介绍
└── Footer (同首页)

联系我们页面
├── Header导航 (同首页)
├── 联系表单
│   ├── 表单提交 → API /api/contact
│   └── 成功反馈 → Toast消息
├── 联系信息
└── Footer (同首页)
```

## 🔄 组件交互拓扑

### 1. 布局组件交互

```
App Layout (layout.tsx)
├── Header组件
│   ├── Logo组件
│   │   └── 点击 → 首页 (/)
│   ├── Navigation组件
│   │   ├── 服务链接 → /services
│   │   ├── 博客链接 → /blog
│   │   ├── 关于我们链接 → /about
│   │   └── 联系我们链接 → /contact
│   ├── 联系按钮
│   │   └── 点击 → /contact
│   └── 移动端菜单按钮
│       └── 点击 → 显示/隐藏移动菜单
├── Main Content
│   └── 页面内容组件
└── Footer组件
    ├── 公司信息
    ├── 链接组
    │   ├── 服务链接 → /services
    │   ├── 资源链接 → /blog, /faq
    │   └── 公司链接 → /about, /contact
    ├── 社交媒体链接
    │   ├── LinkedIn → 外部链接
    │   ├── Twitter → 外部链接
    │   └── Facebook → 外部链接
    └── 版权信息
```

### 2. UI组件交互

```
Button组件
├── 点击事件
│   └── onClick → 父组件回调
├── 加载状态
│   └── loading → 显示加载动画
└── 变体样式
    ├── default → 主要按钮
    ├── outline → 次要按钮
    ├── ghost → 透明按钮
    └── destructive → 危险按钮

Input组件
├── 输入事件
│   └── onChange → 父组件回调
├── 验证状态
│   ├── error → 显示错误信息
│   └── success → 显示成功状态
└── 标签和帮助文本
    ├── label → 输入标签
    └── helpText → 帮助信息

Card组件
├── 点击事件 (可选)
│   └── onClick → 父组件回调
├── 悬停效果
│   └── hover → 阴影变化
└── 子组件
    ├── CardHeader → 卡片头部
    ├── CardContent → 卡片内容
    └── CardFooter → 卡片底部
```

### 3. 业务组件交互 (规划中)

```
BlogCard组件
├── 点击事件
│   └── 点击 → /blog/[slug]
├── 标签点击
│   └── 点击标签 → /blog/category/[category]
├── 阅读更多按钮
│   └── 点击 → /blog/[slug]
└── 数据依赖
    ├── BlogPost类型
    ├── formatDate工具函数
    └── slugify工具函数

ServiceCard组件
├── 点击事件
│   └── 点击 → /services/[service]
├── 了解更多按钮
│   └── 点击 → /services/[service]
└── 数据依赖
    ├── Service类型
    └── SITE_CONFIG常量

ContactForm组件
├── 表单提交
│   └── onSubmit → API /api/contact
├── 字段验证
│   ├── 邮箱验证 → isValidEmail
│   ├── 手机验证 → isValidPhone
│   └── 必填验证 → VALIDATION_RULES
├── 提交状态
│   ├── loading → 显示加载状态
│   ├── success → 显示成功消息
│   └── error → 显示错误消息
└── 数据依赖
    ├── ContactFormData类型
    ├── VALIDATION_RULES常量
    └── COUNTRIES常量
```

## 📊 数据流拓扑

### 1. 页面数据流

```
用户访问页面
├── Next.js路由解析
│   └── 确定页面组件
├── 页面组件加载
│   ├── 获取静态数据
│   │   ├── SITE_CONFIG常量
│   │   ├── 页面内容
│   │   └── 导航数据
│   ├── 获取动态数据 (如适用)
│   │   ├── API调用
│   │   ├── Markdown文件解析
│   │   └── 数据库查询
│   └── 组件渲染
│       ├── 布局组件
│       ├── 业务组件
│       └── UI组件
└── 用户交互
    ├── 点击事件
    ├── 表单提交
    └── 导航跳转
```

### 2. 组件数据流

```
父组件
├── Props传递
│   ├── 数据Props
│   ├── 事件回调Props
│   └── 配置Props
├── 状态管理
│   ├── 本地状态 (useState)
│   ├── 上下文状态 (Context)
│   └── 全局状态 (规划中)
└── 子组件渲染
    ├── 条件渲染
    ├── 列表渲染
    └── 事件处理

子组件
├── Props接收
│   ├── 数据接收
│   ├── 事件处理
│   └── 配置应用
├── 内部状态
│   ├── 组件状态
│   └── 用户交互状态
├── 工具函数调用
│   ├── 数据处理
│   ├── 格式化
│   └── 验证
└── 回调执行
    ├── 事件回调
    ├── 状态更新
    └── 父组件通知
```

## 🎯 用户交互路径

### 1. 新用户访问路径

```
用户访问首页
├── 查看服务介绍
│   └── 点击服务卡片 → 服务详情页
├── 阅读博客内容
│   └── 点击博客卡片 → 博客详情页
├── 了解公司信息
│   └── 点击关于我们 → 关于页面
└── 联系咨询
    └── 点击联系我们 → 联系页面
        ├── 填写联系表单
        ├── 提交表单
        └── 收到确认消息
```

### 2. 现有用户访问路径

```
用户直接访问博客
├── 浏览博客列表
├── 使用分类筛选
│   └── 点击分类 → 分类页面
├── 使用搜索功能
│   └── 输入关键词 → 搜索结果
└── 阅读博客文章
    ├── 分享文章
    ├── 收藏文章 (规划中)
    └── 评论文章 (规划中)
```

### 3. 服务咨询路径

```
用户访问服务页面
├── 浏览服务列表
├── 查看服务详情
│   ├── 了解服务内容
│   ├── 查看服务流程
│   └── 了解服务价格
├── 联系咨询
│   └── 点击联系按钮 → 联系页面
└── 提交咨询表单
    ├── 填写需求信息
    ├── 选择服务类型
    └── 提交表单
```

## 🔧 API交互拓扑

### 1. 现有API (规划中)

```
联系表单API
├── 端点: POST /api/contact
├── 请求数据: ContactFormData
├── 验证: 服务端验证
├── 处理: 发送邮件通知
└── 响应: ApiResponse

博客API
├── 端点: GET /api/blog
├── 查询参数: page, limit, category, search
├── 处理: 读取Markdown文件
└── 响应: PaginatedResponse<BlogPost>

博客详情API
├── 端点: GET /api/blog/[slug]
├── 处理: 读取特定Markdown文件
└── 响应: BlogPost
```

### 2. 外部服务交互 (规划中)

```
邮件服务
├── 联系表单通知
├── Newsletter订阅
└── 营销邮件

分析服务
├── Google Analytics
├── Vercel Analytics
└── 用户行为追踪

CDN服务
├── 图片优化
├── 静态资源缓存
└── 全球加速
```

## 📱 响应式交互拓扑

### 1. 桌面端交互

```
桌面端布局
├── 完整导航菜单
├── 侧边栏 (规划中)
├── 多列布局
└── 悬停效果
    ├── 按钮悬停
    ├── 卡片悬停
    └── 链接悬停
```

### 2. 移动端交互

```
移动端布局
├── 汉堡菜单
├── 单列布局
├── 触摸优化
└── 滑动交互
    ├── 轮播图
    ├── 侧滑菜单
    └── 下拉刷新
```

## 🚀 性能优化交互

### 1. 加载优化

```
页面加载
├── 静态生成 (SSG)
├── 增量静态再生 (ISR)
├── 图片优化
│   ├── Next.js Image组件
│   ├── WebP格式
│   └── 响应式图片
└── 代码分割
    ├── 路由级分割
    ├── 组件级分割
    └── 动态导入
```

### 2. 交互优化

```
用户交互
├── 预加载
│   ├── 链接预加载
│   └── 图片预加载
├── 缓存策略
│   ├── 浏览器缓存
│   ├── CDN缓存
│   └── API缓存
└── 懒加载
    ├── 图片懒加载
    ├── 组件懒加载
    └── 内容懒加载
```

---

**文档版本**: v1.0.0  
**最后更新**: 2024年1月  
**维护者**: 开发团队
