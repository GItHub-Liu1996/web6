# GoChinaAdvisors (仮) 组件架构与依赖关系

## 📋 概述

本文档详细记录了GoChinaAdvisors (仮)项目的组件架构设计、依赖关系和使用指南。项目严格按照解决方案驱动、移动端优先、转化漏斗设计的核心哲学构建，采用基于**原子设计(Atomic Design)**的高度可复用组件架构。

## 🧬 原子设计思想

### **设计理念**
我们遵循Brad Frost的原子设计方法论，将组件按照复杂度和可复用性分为五个层次：

1. **原子(Atoms)** - 最基础的UI元素，不可再分割
2. **分子(Molecules)** - 由2-3个原子组成的小功能单元
3. **组织(Organisms)** - 由分子和原子组成的复杂UI区域
4. **模板(Templates)** - 页面布局结构，不包含具体内容
5. **页面(Pages)** - 具体的页面实例，包含真实数据

### **架构映射**
```
src/components/
├── ui/                    # 原子层 (Atoms) - 基础UI元素
│   ├── Button.tsx         # 按钮原子
│   ├── Input.tsx          # 输入框原子
│   ├── Card.tsx           # 卡片原子
│   ├── Badge.tsx          # 徽章原子
│   └── Separator.tsx      # 分割线原子
├── molecules/             # 分子层 (Molecules) - 功能单元
│   ├── LabeledInput.tsx   # 带标签的输入框分子
│   ├── FormField.tsx      # 表单字段分子
│   ├── SearchBox.tsx      # 搜索框分子
│   └── ActionButton.tsx   # 操作按钮分子
├── organisms/             # 组织层 (Organisms) - 复杂区域
│   ├── Header.tsx         # 页面头部组织
│   ├── Footer.tsx         # 页面底部组织
│   ├── Navigation.tsx     # 导航组织
│   ├── MegaMenu.tsx      # 超级菜单组织
│   └── ContactForm.tsx    # 联系表单组织
├── templates/             # 模板层 (Templates) - 页面布局
│   ├── BlogIndexTemplate.tsx    # 博客列表页模板
│   ├── CaseStudyTemplate.tsx    # 案例研究模板
│   ├── ServiceTemplate.tsx      # 服务页面模板
│   └── LandingTemplate.tsx      # 落地页模板
└── layout/                # 布局工具 (Layout Utilities)
    ├── Container.tsx      # 容器工具
    ├── Grid.tsx           # 网格工具
    └── Stack.tsx          # 堆叠工具
```

## 🎯 组件设计原则

### 1. **单一职责原则**
每个组件只负责一个功能，避免功能耦合。

### 2. **高度可复用**
UI轮子组件应该可以在任何地方使用，不依赖特定业务逻辑。

### 3. **低耦合**
组件之间尽量减少依赖关系，通过Props传递数据。

### 4. **组合优于继承**
通过组合简单组件构建复杂功能，而不是创建复杂的"万能组件"。

### 5. **移动端优先**
所有组件都支持响应式设计，确保移动端体验。

## 🏗️ 原子设计架构层次

### **当前实现的原子设计结构**

```
src/components/
├── ui/                    # 原子层 (Atoms) - 基础UI元素
│   ├── Button.tsx         # 按钮原子 ✅
│   ├── Input.tsx          # 输入框原子 ✅
│   ├── Card.tsx           # 卡片原子 ✅
│   ├── Badge.tsx          # 徽章原子 ✅
│   ├── Separator.tsx      # 分割线原子 ✅
│   ├── Modal.tsx          # 模态框原子 (规划中)
│   ├── Toast.tsx          # 消息提示原子 (规划中)
│   ├── Loading.tsx        # 加载原子 (规划中)
│   ├── Avatar.tsx         # 头像原子 (规划中)
│   └── __tests__/         # 原子测试
├── molecules/             # 分子层 (Molecules) - 功能单元
│   ├── LabeledInput.tsx   # 带标签输入框分子 ✅
│   ├── FormField.tsx      # 表单字段分子 ✅
│   ├── SearchBox.tsx      # 搜索框分子 ✅
│   ├── ActionButton.tsx   # 操作按钮分子 (规划中)
│   └── __tests__/         # 分子测试
├── organisms/             # 组织层 (Organisms) - 复杂区域
│   ├── Header.tsx         # 页面头部组织 ✅
│   ├── Footer.tsx         # 页面底部组织 ✅
│   ├── Navigation.tsx     # 导航组织 ✅
│   ├── MegaMenu.tsx      # 超级菜单组织 ✅
│   ├── ContactForm.tsx    # 联系表单组织 ✅
│   └── __tests__/         # 组织测试
├── templates/             # 模板层 (Templates) - 页面布局
│   ├── BlogIndexTemplate.tsx    # 博客列表页模板 ✅
│   ├── CaseStudyTemplate.tsx    # 案例研究模板 ✅
│   ├── ServiceTemplate.tsx      # 服务页面模板 (规划中)
│   ├── LandingTemplate.tsx      # 落地页模板 (规划中)
│   └── __tests__/         # 模板测试
├── content/               # 内容组件 (中等可复用)
│   ├── BlogCard.tsx       # 博客卡片 ✅
│   ├── CaseStudyCard.tsx  # 案例卡片 ✅
│   ├── ServiceCard.tsx    # 服务卡片 (规划中)
│   ├── TestimonialCard.tsx # 客户评价 (规划中)
│   └── FAQCard.tsx        # FAQ卡片 (规划中)
├── business/              # 业务组件 (低可复用)
│   ├── SolutionPackageCard.tsx # 解决方案卡片 ✅
│   ├── PricingCard.tsx    # 价格卡片 (规划中)
│   └── IndustryCard.tsx   # 行业卡片 (规划中)
└── layout/                # 布局工具 (Layout Utilities)
    ├── Container.tsx      # 容器工具 ✅
    ├── Grid.tsx           # 网格工具 ✅
    └── Stack.tsx          # 堆叠工具 ✅
```

## 🔧 UI轮子组件详细记录

### 1. **Button 组件**
**文件位置**: `src/components/ui/Button.tsx`

**依赖关系**:
- **直接依赖**: 
  - `React.forwardRef` - React核心
  - `cn` - 来自 `@/lib/utils`
- **使用工具函数**: 
  - `cn()` - 类名合并
- **使用常量**: 无
- **测试文件**: `Button.test.tsx` ✅
- **Storybook**: 规划中

**Props接口**:
```typescript
interface ButtonProps {
  variant?: 'default' | 'destructive' | 'outline' | 'secondary' | 'ghost' | 'link';
  size?: 'default' | 'sm' | 'lg' | 'icon';
  disabled?: boolean;
  loading?: boolean;
  children: React.ReactNode;
  onClick?: () => void;
  className?: string;
}
```

**功能特点**:
- 多种变体样式 (default, destructive, outline, secondary, ghost, link)
- 多种尺寸 (default, sm, lg, icon)
- 加载状态支持
- 无障碍设计
- 高度可复用

### 2. **Input 组件**
**文件位置**: `src/components/ui/Input.tsx`

**依赖关系**:
- **直接依赖**: 
  - `React.forwardRef` - React核心
  - `cn` - 来自 `@/lib/utils`
- **使用工具函数**: 
  - `cn()` - 类名合并
- **使用常量**: 无
- **测试文件**: 规划中
- **Storybook**: 规划中

**Props接口**:
```typescript
interface InputProps {
  type?: 'text' | 'email' | 'password' | 'tel' | 'url';
  placeholder?: string;
  value?: string;
  onChange?: (value: string) => void;
  error?: string;
  label?: string;
  helpText?: string;
  disabled?: boolean;
  required?: boolean;
  className?: string;
}
```

**功能特点**:
- 多种输入类型
- 错误状态显示
- 标签和帮助文本
- 验证支持
- 高度可复用

### 3. **Card 组件**
**文件位置**: `src/components/ui/Card.tsx`

**依赖关系**:
- **直接依赖**: 
  - `React.forwardRef` - React核心
  - `cn` - 来自 `@/lib/utils`
- **使用工具函数**: 
  - `cn()` - 类名合并
- **使用常量**: 无
- **测试文件**: 规划中
- **Storybook**: 规划中

**Props接口**:
```typescript
interface CardProps {
  variant?: 'default' | 'outlined' | 'elevated';
  clickable?: boolean;
  hover?: boolean;
  children: React.ReactNode;
  className?: string;
  onClick?: () => void;
}
```

**功能特点**:
- 多种样式变体
- 可点击状态
- 悬停效果
- 子组件支持 (CardHeader, CardTitle, CardDescription, CardContent, CardFooter)
- 高度可复用

### 4. **Badge 组件** ✅
**文件位置**: `src/components/ui/Badge.tsx`

**依赖关系**:
- **直接依赖**: 
  - `React` - React核心
  - `cn` - 来自 `@/lib/utils`
- **使用工具函数**: 
  - `cn()` - 类名合并
- **使用常量**: 无
- **测试文件**: 规划中
- **Storybook**: 规划中

**Props接口**:
```typescript
interface BadgeProps {
  variant?: 'default' | 'secondary' | 'destructive' | 'outline';
  size?: 'sm' | 'default' | 'lg';
  children: React.ReactNode;
  className?: string;
}
```

**功能特点**:
- 多种颜色变体 (default, secondary, destructive, outline)
- 多种尺寸 (sm, default, lg)
- 标签显示
- 高度可复用

### 5. **Separator 组件** ✅
**文件位置**: `src/components/ui/Separator.tsx`

**依赖关系**:
- **直接依赖**: 
  - `React` - React核心
  - `cn` - 来自 `@/lib/utils`
- **使用工具函数**: 
  - `cn()` - 类名合并
- **使用常量**: 无
- **测试文件**: 规划中
- **Storybook**: 规划中

**Props接口**:
```typescript
interface SeparatorProps {
  orientation?: 'horizontal' | 'vertical';
  className?: string;
}
```

**功能特点**:
- 水平/垂直方向
- 简单分割线
- 高度可复用

## 🏗️ 布局组件详细记录

### 1. **Container 组件** ✅
**文件位置**: `src/components/layout/Container.tsx`

**依赖关系**:
- **直接依赖**: 
  - `React` - React核心
  - `cn` - 来自 `@/lib/utils`
- **使用工具函数**: 
  - `cn()` - 类名合并
- **使用常量**: 无
- **测试文件**: 规划中
- **Storybook**: 规划中

**Props接口**:
```typescript
interface ContainerProps {
  size?: 'sm' | 'md' | 'lg' | 'xl' | 'full';
  children: React.ReactNode;
  className?: string;
}
```

**功能特点**:
- 响应式容器 (sm: max-w-2xl, md: max-w-4xl, lg: max-w-7xl, xl: max-w-8xl, full: max-w-none)
- 自动居中布局
- 响应式内边距
- 中等可复用

### 2. **Grid 组件** ✅
**文件位置**: `src/components/layout/Grid.tsx`

**依赖关系**:
- **直接依赖**: 
  - `React` - React核心
  - `cn` - 来自 `@/lib/utils`
- **使用工具函数**: 
  - `cn()` - 类名合并
- **使用常量**: 无
- **测试文件**: 规划中
- **Storybook**: 规划中

**Props接口**:
```typescript
interface GridProps {
  cols?: 1 | 2 | 3 | 4 | 5 | 6;
  gap?: 'sm' | 'md' | 'lg';
  children: React.ReactNode;
  className?: string;
}
```

**功能特点**:
- 响应式网格 (1-6列)
- 多种间距 (sm: gap-4, md: gap-6, lg: gap-8)
- 自动响应式列数
- 中等可复用

### 3. **Stack 组件** ✅
**文件位置**: `src/components/layout/Stack.tsx`

**依赖关系**:
- **直接依赖**: 
  - `React` - React核心
  - `cn` - 来自 `@/lib/utils`
- **使用工具函数**: 
  - `cn()` - 类名合并
- **使用常量**: 无
- **测试文件**: 规划中
- **Storybook**: 规划中

**Props接口**:
```typescript
interface StackProps {
  direction?: 'horizontal' | 'vertical';
  spacing?: 'sm' | 'md' | 'lg';
  align?: 'start' | 'center' | 'end' | 'stretch';
  children: React.ReactNode;
  className?: string;
}
```

**功能特点**:
- 水平/垂直堆叠
- 多种间距 (sm: space-2, md: space-4, lg: space-6)
- 多种对齐方式 (start, center, end, stretch)
- 中等可复用

### 4. **Navigation 组件** ✅
**文件位置**: `src/components/layout/Navigation.tsx`

**依赖关系**:
- **直接依赖**: 
  - `Link` - 来自 `next/link`
  - `Button` - 来自 `@/components/ui/Button`
  - `MegaMenu` - 来自 `@/components/layout/MegaMenu`
  - `cn` - 来自 `@/lib/utils`
- **使用工具函数**: 
  - `cn()` - 类名合并
- **使用常量**: 
  - `SITE_CONFIG` - 来自 `@/lib/constants`
- **测试文件**: 规划中
- **Storybook**: 规划中

**功能特点**:
- 桌面端超级菜单
- 移动端汉堡菜单
- 解决方案导航集成超级菜单
- 语言切换器
- 搜索功能
- 状态管理：菜单展开/收起

### 5. **MegaMenu 组件** ✅
**文件位置**: `src/components/layout/MegaMenu.tsx`

**依赖关系**:
- **直接依赖**: 
  - `Link` - 来自 `next/link`
  - `Button` - 来自 `@/components/ui/Button`
  - `cn` - 来自 `@/lib/utils`
- **使用工具函数**: 
  - `cn()` - 类名合并
- **使用常量**: 无
- **测试文件**: 规划中
- **Storybook**: 规划中

**功能特点**:
- 三栏布局的超级菜单
- 桌面端：鼠标悬停展开
- 移动端：点击展开折叠式列表
- 响应式设计
- 支持 isMobile 属性切换显示模式

## 🧬 分子层组件详细记录

### 1. **LabeledInput 分子组件** ✅
**文件位置**: `src/components/molecules/LabeledInput.tsx`

**依赖关系**:
- **直接依赖**: 
  - `Input` - 来自 `@/components/ui/Input`
  - `cn` - 来自 `@/lib/utils`
- **使用工具函数**: 
  - `cn()` - 类名合并
- **使用常量**: 无
- **测试文件**: 规划中
- **Storybook**: 规划中

**Props接口**:
```typescript
interface LabeledInputProps {
  label: string;
  placeholder?: string;
  value?: string;
  onChange?: (value: string) => void;
  type?: 'text' | 'email' | 'password' | 'tel' | 'url';
  required?: boolean;
  error?: string;
  helpText?: string;
  className?: string;
}
```

**功能特点**:
- 由Label原子和Input原子组成
- 完整的表单字段功能
- 错误状态和帮助文本支持
- 必填字段标识
- 高度可复用的分子组件

### 2. **FormField 分子组件** ✅
**文件位置**: `src/components/molecules/FormField.tsx`

**依赖关系**:
- **直接依赖**: 
  - `Input` - 来自 `@/components/ui/Input`
  - `Button` - 来自 `@/components/ui/Button`
  - `cn` - 来自 `@/lib/utils`
- **使用工具函数**: 
  - `cn()` - 类名合并
- **使用常量**: 无
- **测试文件**: 规划中
- **Storybook**: 规划中

**Props接口**:
```typescript
interface FormFieldProps {
  label: string;
  type?: 'text' | 'email' | 'password' | 'tel' | 'url';
  placeholder?: string;
  value?: string;
  onChange?: (value: string) => void;
  showAction?: boolean;
  actionText?: string;
  onAction?: () => void;
  required?: boolean;
  error?: string;
  helpText?: string;
  className?: string;
}
```

**功能特点**:
- 由Label、Input和Button原子组成
- 支持带操作按钮的表单字段
- 常用于搜索框、订阅表单等场景
- 灵活的操作按钮配置
- 高度可复用的分子组件

### 3. **SearchBox 分子组件** ✅
**文件位置**: `src/components/molecules/SearchBox.tsx`

**依赖关系**:
- **直接依赖**: 
  - `Input` - 来自 `@/components/ui/Input`
  - `Button` - 来自 `@/components/ui/Button`
  - `cn` - 来自 `@/lib/utils`
- **使用工具函数**: 
  - `cn()` - 类名合并
- **使用常量**: 无
- **测试文件**: 规划中
- **Storybook**: 规划中

**Props接口**:
```typescript
interface SearchBoxProps {
  value?: string;
  onChange?: (value: string) => void;
  onSearch?: (query: string) => void;
  placeholder?: string;
  searchText?: string;
  showButton?: boolean;
  className?: string;
}
```

**功能特点**:
- 由Input和Button原子组成
- 支持实时搜索和按钮触发搜索
- 键盘Enter键支持
- 灵活的按钮显示控制
- 高度可复用的搜索分子组件

## 🏗️ 模板层组件详细记录

### 1. **BlogIndexTemplate 模板组件** ✅
**文件位置**: `src/components/templates/BlogIndexTemplate.tsx`

**依赖关系**:
- **直接依赖**: 
  - `Container` - 来自 `@/components/layout/Container`
  - `Grid` - 来自 `@/components/layout/Grid`
  - `Stack` - 来自 `@/components/layout/Stack`
  - `BlogCard` - 来自 `@/components/content/BlogCard`
  - `SearchBox` - 来自 `@/components/molecules/SearchBox`
  - `Badge` - 来自 `@/components/ui/Badge`
  - `cn` - 来自 `@/lib/utils`
- **使用工具函数**: 
  - `cn()` - 类名合并
- **使用常量**: 无
- **测试文件**: 规划中
- **Storybook**: 规划中

**Props接口**:
```typescript
interface BlogIndexTemplateProps {
  posts: BlogPost[];
  searchQuery?: string;
  onSearch?: (query: string) => void;
  selectedCategory?: string;
  categories?: string[];
  onCategorySelect?: (category: string) => void;
  title?: string;
  description?: string;
  className?: string;
}
```

**功能特点**:
- 提供博客列表页的完整布局结构
- 包含搜索、分类筛选和文章列表
- 只负责布局，不包含数据获取逻辑
- 高度可复用的页面模板
- 支持多种筛选和搜索功能

### 2. **CaseStudyTemplate 模板组件** ✅
**文件位置**: `src/components/templates/CaseStudyTemplate.tsx`

**依赖关系**:
- **直接依赖**: 
  - `Container` - 来自 `@/components/layout/Container`
  - `Grid` - 来自 `@/components/layout/Grid`
  - `Stack` - 来自 `@/components/layout/Stack`
  - `CaseStudyCard` - 来自 `@/components/content/CaseStudyCard`
  - `SearchBox` - 来自 `@/components/molecules/SearchBox`
  - `Badge` - 来自 `@/components/ui/Badge`
  - `cn` - 来自 `@/lib/utils`
- **使用工具函数**: 
  - `cn()` - 类名合并
- **使用常量**: 无
- **测试文件**: 规划中
- **Storybook**: 规划中

**Props接口**:
```typescript
interface CaseStudyTemplateProps {
  caseStudies: CaseStudy[];
  searchQuery?: string;
  onSearch?: (query: string) => void;
  selectedIndustry?: string;
  industries?: string[];
  onIndustrySelect?: (industry: string) => void;
  title?: string;
  description?: string;
  className?: string;
}
```

**功能特点**:
- 提供案例研究列表页的完整布局结构
- 包含搜索、行业筛选和案例列表
- 只负责布局，不包含数据获取逻辑
- 高度可复用的页面模板
- 支持多种筛选和搜索功能

## 📝 内容组件详细记录

### 1. **BlogCard 组件** ✅
**文件位置**: `src/components/content/BlogCard.tsx`

**依赖关系**:
- **直接依赖**: 
  - `Link` - 来自 `next/link`
  - `Card` - 来自 `@/components/ui/Card`
  - `Badge` - 来自 `@/components/ui/Badge`
  - `cn` - 来自 `@/lib/utils`
- **使用工具函数**: 
  - `cn()` - 类名合并
- **使用常量**: 无
- **测试文件**: 规划中
- **Storybook**: 规划中

**Props接口**:
```typescript
interface BlogCardProps {
  title: string;
  excerpt: string;
  category: string;
  readTime: string;
  href: string;
  image?: string;
  variant?: 'default' | 'featured';
  className?: string;
}
```

**功能特点**:
- 博客文章展示
- 多种显示模式 (default, featured)
- 分类和阅读时间显示
- 悬停效果
- 中等可复用

### 2. **CaseStudyCard 组件** ✅
**文件位置**: `src/components/content/CaseStudyCard.tsx`

**依赖关系**:
- **直接依赖**: 
  - `Link` - 来自 `next/link`
  - `Card` - 来自 `@/components/ui/Card`
  - `Badge` - 来自 `@/components/ui/Badge`
  - `Button` - 来自 `@/components/ui/Button`
  - `cn` - 来自 `@/lib/utils`
- **使用工具函数**: 
  - `cn()` - 类名合并
- **使用常量**: 无
- **测试文件**: 规划中
- **Storybook**: 规划中

**Props接口**:
```typescript
interface CaseStudyCardProps {
  title: string;
  company: string;
  industry: string;
  challenge: string;
  solution: string;
  results: string[];
  href: string;
  variant?: 'preview' | 'full';
  className?: string;
}
```

**功能特点**:
- 案例研究展示
- 多种显示模式 (preview, full)
- 结构化内容 (挑战、解决方案、成果)
- 悬停效果
- 中等可复用

## 🔧 业务组件详细记录

### 1. **ContactForm 组件** ✅
**文件位置**: `src/components/business/ContactForm.tsx`

**依赖关系**:
- **直接依赖**: 
  - `Card` - 来自 `@/components/ui/Card`
  - `Button` - 来自 `@/components/ui/Button`
  - `Input` - 来自 `@/components/ui/Input`
  - `cn` - 来自 `@/lib/utils`
- **使用工具函数**: 
  - `cn()` - 类名合并
- **使用常量**: 无
- **测试文件**: 规划中
- **Storybook**: 规划中

**Props接口**:
```typescript
interface ContactFormProps {
  defaultSubject?: string;
  variant?: 'full' | 'simple';
  className?: string;
}
```

**功能特点**:
- 联系表单收集
- 多种变体 (full, simple)
- 表单验证
- 状态管理
- 低可复用 (业务特定)

### 2. **SolutionPackageCard 组件** ✅
**文件位置**: `src/components/business/SolutionPackageCard.tsx`

**依赖关系**:
- **直接依赖**: 
  - `Link` - 来自 `next/link`
  - `Card` - 来自 `@/components/ui/Card`
  - `Button` - 来自 `@/components/ui/Button`
  - `Badge` - 来自 `@/components/ui/Badge`
  - `cn` - 来自 `@/lib/utils`
- **使用工具函数**: 
  - `cn()` - 类名合并
- **使用常量**: 无
- **测试文件**: 规划中
- **Storybook**: 规划中

**Props接口**:
```typescript
interface SolutionPackageCardProps {
  title: string;
  description: string;
  services: string[];
  href: string;
  className?: string;
}
```

**功能特点**:
- 解决方案包展示
- 服务列表显示
- 悬停效果
- 低可复用 (业务特定)

## 📦 第三方依赖详细记录

### 生产依赖 (Production Dependencies)

#### Next.js 生态系统
| 包名 | 版本 | 用途 | 使用位置 | 备注 |
|------|------|------|----------|------|
| `next` | 15.5.3 | React框架 | 全项目 | 核心框架，提供SSR/SSG |
| `react` | 19.1.0 | UI库 | 全项目 | React核心库 |
| `react-dom` | 19.1.0 | DOM渲染 | 全项目 | React DOM渲染器 |

#### 样式和UI
| 包名 | 版本 | 用途 | 使用位置 | 备注 |
|------|------|------|----------|------|
| `tailwindcss` | ^4 | CSS框架 | 全项目 | 原子化CSS框架 |
| `@tailwindcss/postcss` | ^4 | PostCSS插件 | 全项目 | Tailwind CSS处理 |
| `clsx` | ^2.0.0 | 类名合并 | src/lib/utils.ts | 条件类名处理 |
| `tailwind-merge` | ^2.0.0 | 类名冲突解决 | src/lib/utils.ts | Tailwind类名优化 |

#### 内容管理
| 包名 | 版本 | 用途 | 使用位置 | 备注 |
|------|------|------|----------|------|
| `gray-matter` | ^4.0.3 | Frontmatter解析 | 规划中 | Markdown元数据解析 |
| `remark` | ^15.0.1 | Markdown处理 | 规划中 | Markdown解析器 |
| `remark-html` | ^16.0.1 | HTML转换 | 规划中 | Markdown转HTML |

#### 国际化
| 包名 | 版本 | 用途 | 使用位置 | 备注 |
|------|------|------|----------|------|
| `next-intl` | ^3.0.0 | 国际化 | 规划中 | 多语言支持 |

### 开发依赖 (Development Dependencies)

#### 代码质量
| 包名 | 版本 | 用途 | 使用位置 | 备注 |
|------|------|------|----------|------|
| `typescript` | ^5.9.2 | 类型系统 | 全项目 | TypeScript编译器 |
| `eslint` | ^9 | 代码检查 | 全项目 | JavaScript/TypeScript检查 |
| `eslint-config-next` | 15.5.3 | Next.js ESLint配置 | 全项目 | Next.js专用规则 |
| `eslint-plugin-jsx-a11y` | ^6.8.0 | 可访问性检查 | 全项目 | JSX可访问性规则 |
| `prettier` | ^3.0.0 | 代码格式化 | 全项目 | 代码格式化工具 |

#### 测试
| 包名 | 版本 | 用途 | 使用位置 | 备注 |
|------|------|------|----------|------|
| `jest` | ^29.0.0 | 测试框架 | 全项目 | JavaScript测试框架 |
| `@testing-library/react` | ^14.0.0 | React测试工具 | src/components/__tests__ | React组件测试 |
| `@testing-library/jest-dom` | ^6.0.0 | Jest DOM匹配器 | jest.setup.js | DOM测试增强 |
| `jest-environment-jsdom` | ^29.0.0 | JSDOM环境 | jest.config.js | 浏览器环境模拟 |
| `@types/jest` | ^29.0.0 | Jest类型定义 | 全项目 | TypeScript支持 |

## 🧬 原子设计最佳实践

### **1. 原子层 (Atoms) 设计原则**
- **单一职责**: 每个原子只负责一个基础功能
- **高度可复用**: 不包含任何业务逻辑
- **无状态**: 尽量保持纯函数式组件
- **完整API**: 提供所有必要的Props接口

### **2. 分子层 (Molecules) 设计原则**
- **功能单元**: 由2-3个原子组成的小功能单元
- **业务无关**: 不包含特定业务逻辑
- **可配置**: 通过Props提供灵活的配置选项
- **组合优先**: 优先使用现有原子组合

### **3. 组织层 (Organisms) 设计原则**
- **复杂区域**: 由分子和原子组成的复杂UI区域
- **业务相关**: 可以包含特定的业务逻辑
- **状态管理**: 可以管理内部状态
- **完整功能**: 提供完整的功能模块

### **4. 模板层 (Templates) 设计原则**
- **布局结构**: 只负责页面布局，不包含具体内容
- **数据无关**: 通过Props接收数据，不包含数据获取逻辑
- **高度复用**: 可以被多个页面使用
- **响应式**: 支持各种屏幕尺寸

### **5. 页面层 (Pages) 设计原则**
- **数据获取**: 负责获取和准备数据
- **业务逻辑**: 包含页面特定的业务逻辑
- **模板使用**: 使用模板组件进行布局
- **状态管理**: 管理页面级别的状态

## 🎯 组件使用最佳实践

### 1. **原子设计组合使用**
```tsx
// 原子层：基础UI元素
<Button variant="primary" size="lg">提交</Button>
<Input type="email" placeholder="请输入邮箱" />
<Badge variant="success">已完成</Badge>

// 分子层：功能单元
<LabeledInput
  label="您的姓名"
  placeholder="请输入您的姓名"
  value={name}
  onChange={setName}
  required
/>
<SearchBox
  value={searchQuery}
  onChange={setSearchQuery}
  onSearch={handleSearch}
  placeholder="搜索博客文章..."
/>

// 组织层：复杂区域
<ContactForm
  defaultSubject="咨询服务"
  variant="full"
/>

// 模板层：页面布局
<BlogIndexTemplate
  posts={blogPosts}
  searchQuery={searchQuery}
  onSearch={handleSearch}
  categories={['政策解读', '案例分析']}
  onCategorySelect={handleCategorySelect}
  title="资源中心"
/>
```

### 2. **避免过度抽象**
```tsx
// 避免：过度抽象的组件
<ComplexCard 
  type="blog"
  showImage={true}
  showCategory={true}
  showReadTime={true}
  showExcerpt={true}
  variant="featured"
  size="large"
  // ... 太多props
/>

// 好的做法：简单明确的组件
<BlogCard 
  title="标题"
  excerpt="摘要"
  category="分类"
  readTime="5分钟"
  href="/blog/slug"
/>
```

### 3. **保持简单**
```tsx
// 好的做法：简单明确的组件
<BlogCard 
  title="标题"
  excerpt="摘要"
  category="分类"
  readTime="5分钟"
  href="/blog/slug"
/>
```

## 📋 开发检查清单

### 新增UI轮子组件时：
- [ ] 设计清晰的Props接口
- [ ] 实现多种变体样式
- [ ] 支持响应式设计
- [ ] 添加无障碍支持
- [ ] 编写单元测试
- [ ] 更新Storybook
- [ ] 编写使用文档

### 新增业务组件时：
- [ ] 基于UI轮子组件构建
- [ ] 保持业务逻辑简单
- [ ] 支持多种使用场景
- [ ] 编写使用示例
- [ ] 更新相关文档

## 🔍 依赖管理最佳实践

### 1. 新增依赖时
- [ ] 评估依赖的必要性
- [ ] 检查版本兼容性
- [ ] 更新package.json
- [ ] 记录使用位置和用途
- [ ] 更新本文档
- [ ] 运行 `npm audit` 检查安全漏洞

### 2. 移除依赖时
- [ ] 确认没有组件在使用
- [ ] 从package.json中移除
- [ ] 更新本文档
- [ ] 测试确保没有破坏性更改

### 3. 更新依赖时
- [ ] 检查更新日志
- [ ] 测试兼容性
- [ ] 更新版本号
- [ ] 更新本文档
- [ ] 运行测试确保功能正常

## 📚 相关文档

- [13-安全变更流程](./13-安全变更流程.md) - UI组件安全变更流程
- [03-开发规范](./03-开发规范.md) - 开发总纲与核心开发细则
- [04-技术架构](./04-技术架构.md) - 项目架构总纲
- [05-代码结构](./05-代码结构.md) - 代码架构与交互拓扑图

---

**文档版本**: v3.0.0  
**最后更新**: 2024年1月  
**维护者**: 开发团队  
**项目**: GoChinaAdvisors (仮)

**重要提醒**: 任何UI组件修改都必须严格遵循 [13-安全变更流程](./13-安全变更流程.md) 中的五步变更流程。
